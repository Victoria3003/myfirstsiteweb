{"remainingRequest":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/victoriatokplo92/code/myfirstsiteweb/appli/src/views/Admin.vue?vue&type=template&id=54c38a05","dependencies":[{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/src/views/Admin.vue","mtime":1614893772000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1624994109000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiB2LWlmPSJhZG1pbiI+CiAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtMTIiPgogICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8aW5wdXQKICAgICAgICAgIHR5cGU9InRleHQiCiAgICAgICAgICBuYW1lPSJzZWFyY2giCiAgICAgICAgICB2LW1vZGVsPSJjb250YWN0U2VhcmNoIgogICAgICAgICAgcGxhY2Vob2xkZXI9IkNoZXJjaGVyIENvbnRhY3QiCiAgICAgICAgICBjbGFzcz0iZm9ybS1jb250cm9sIgogICAgICAgICAgdi1vbjprZXl1cD0ic2VhcmNoQ29udGFjdCIKICAgICAgICAvPgogICAgICA8L2Rpdj4KICAgICAgPHRhYmxlIGNsYXNzPSJ0YWJsZSB0YWJsZS1zdHJpcGVkIj4KICAgICAgICA8dGhlYWQ+CiAgICAgICAgICA8dHI+CiAgICAgICAgICAgIDx0aD5FbWFpbDwvdGg+CiAgICAgICAgICAgIDx0aD5BY2NvbXBhZ25lbnQ8L3RoPgogICAgICAgICAgICA8dGg+Q29tbWVudGFpcmU8L3RoPgogICAgICAgICAgICA8dGg+U3RhdHV0PC90aD4KICAgICAgICAgICAgPHRoPkFjdGlvbnM8L3RoPgogICAgICAgICAgPC90cj4KICAgICAgICA8L3RoZWFkPgogICAgICAgIDx0Ym9keT4KICAgICAgICAgIDx0ciB2LWZvcj0iY29udGFjdCBpbiBjb250YWN0cyIgOmtleT0iY29udGFjdC5rZXkiPgogICAgICAgICAgICA8dGQ+e3sgY29udGFjdC5lbWFpbCB9fTwvdGQ+CiAgICAgICAgICAgIDx0ZD57eyBjb250YWN0LmFpZGUgfX08L3RkPgogICAgICAgICAgICA8dGQ+e3sgY29udGFjdC5jb21tZW50YWlyZSB9fTwvdGQ+CiAgICAgICAgICAgIDx0ZD57eyBjb250YWN0LnN0YXR1dCB9fTwvdGQ+CiAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICA8cm91dGVyLWxpbmsKICAgICAgICAgICAgICAgIDp0bz0ieyBuYW1lOiAnZWRpdCcsIHBhcmFtczogeyBpZDogY29udGFjdC5rZXkgfSB9IgogICAgICAgICAgICAgICAgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIKICAgICAgICAgICAgICAgID5FZGl0CiAgICAgICAgICAgICAgPC9yb3V0ZXItbGluaz4KCiAgICAgICAgICAgICAgPGJ1dHRvbiBAY2xpY2sucHJldmVudD0iZGVsZXRlQ29udGFjdChjb250YWN0LmtleSkiIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+CiAgICAgICAgICAgICAgICBEZWxldGUKICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC90ZD4KICAgICAgICAgIDwvdHI+CiAgICAgICAgPC90Ym9keT4KICAgICAgPC90YWJsZT4KICAgIDwvZGl2PgogIDwvZGl2PgogIDxkaXYgdi1lbHNlPgogICAgPGJyIC8+PGJyIC8+CiAgICA8aDM+U29ycnkgYnV0IHlvdSBuZWVkIHRvIGJlIGFkbWluIHRvIHNlZSB0aG9zZSBkYXRhIDspPC9oMz4KICA8L2Rpdj4K"},{"version":3,"sources":["/home/victoriatokplo92/code/myfirstsiteweb/appli/src/views/Admin.vue"],"names":[],"mappings":"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","file":"/home/victoriatokplo92/code/myfirstsiteweb/appli/src/views/Admin.vue","sourceRoot":"","sourcesContent":["<template>\n  <div v-if=\"admin\">\n    <div class=\"col-md-12\">\n      <div class=\"form-group\">\n        <input\n          type=\"text\"\n          name=\"search\"\n          v-model=\"contactSearch\"\n          placeholder=\"Chercher Contact\"\n          class=\"form-control\"\n          v-on:keyup=\"searchContact\"\n        />\n      </div>\n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Email</th>\n            <th>Accompagnent</th>\n            <th>Commentaire</th>\n            <th>Statut</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"contact in contacts\" :key=\"contact.key\">\n            <td>{{ contact.email }}</td>\n            <td>{{ contact.aide }}</td>\n            <td>{{ contact.commentaire }}</td>\n            <td>{{ contact.statut }}</td>\n            <td>\n              <router-link\n                :to=\"{ name: 'edit', params: { id: contact.key } }\"\n                class=\"btn btn-primary\"\n                >Edit\n              </router-link>\n\n              <button @click.prevent=\"deleteContact(contact.key)\" class=\"btn btn-danger\">\n                Delete\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div v-else>\n    <br /><br />\n    <h3>Sorry but you need to be admin to see those data ;)</h3>\n  </div>\n</template>\n\n<script>\nimport { db } from \"../firebaseDb\";\nimport firebase from \"firebase\";\n\nexport default {\n  data() {\n    return {\n      contacts: [],\n      originalContact: [],\n      contactSearch: \"\",\n      admin: false,\n      user: \"\",\n    };\n  },\n  created() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.admin = true;\n        this.fetchContact();\n      }\n    });\n  },\n  methods: {\n    fetchContact: function () {\n      db.collection(\"contacts\").onSnapshot((snapshotChange) => {\n        this.contacts = [];\n        snapshotChange.forEach((doc) => {\n          this.contacts.push({\n            key: doc.id,\n            email: doc.data().email,\n            aide: doc.data().aide,\n            domaine: doc.data().domaine,\n            commentaire: doc.data().commentaire,\n            statut: doc.data().statut,\n          });\n        });\n        this.originalContact = this.contacts;\n      });\n    },\n    deleteContact(id) {\n      if (window.confirm(\"Do you really want to delete?\")) {\n        db.collection(\"contacts\")\n          .doc(id)\n          .delete()\n          .then(() => {\n            console.log(\"Contact deleted!\");\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    },\n    searchContact: function () {\n      if (this.contactSearch == \"\") {\n        this.contacts = this.originalContact;\n        this.fetchContact();\n      }\n      var searchedContact = [];\n      for (var i = 0; i < this.originalContact.length; i++) {\n        var contactEMail = this.originalContact[i][\"email\"].toLowerCase();\n        var contactStatut = this.originalContact[i][\"statut\"].toLowerCase();\n        var contactAide = this.originalContact[i][\"aide\"].toLowerCase();\n        var contactDomaine = this.originalContact[i][\"domaine\"].toLowerCase();\n        var contactCommentaire = this.originalContact[i][\"commentaire\"].toLowerCase();\n\n        if (contactEMail.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n        if (contactStatut.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n        if (contactAide.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n        if (contactDomaine.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n        if (contactCommentaire.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n      }\n      this.contacts = searchedContact;\n    },\n  },\n};\n</script>\n\n<style>\n.btn-primary {\n  margin-right: 12px;\n}\n</style>\n"]}]}