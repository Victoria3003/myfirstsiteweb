{"remainingRequest":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/babel-loader/lib/index.js!/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/victoriatokplo92/code/myfirstsiteweb/appli/src/views/Admin.vue?vue&type=template&id=54c38a05","dependencies":[{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/src/views/Admin.vue","mtime":1614893772000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1624994109000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/victoriatokplo92/code/myfirstsiteweb/appli/node_modules/vue-loader-v16/dist/index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCB3aXRoTW9kaWZpZXJzIGFzIF93aXRoTW9kaWZpZXJzLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGtleTogMAp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImNvbC1tZC0xMiIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJmb3JtLWdyb3VwIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogInRhYmxlIHRhYmxlLXN0cmlwZWQiCn07Cgp2YXIgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInRoZWFkIiwgbnVsbCwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInRyIiwgbnVsbCwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInRoIiwgbnVsbCwgIkVtYWlsIiksIC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInRoIiwgbnVsbCwgIkFjY29tcGFnbmVudCIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJ0aCIsIG51bGwsICJDb21tZW50YWlyZSIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJ0aCIsIG51bGwsICJTdGF0dXQiKSwgLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgidGgiLCBudWxsLCAiQWN0aW9ucyIpXSldLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJFZGl0ICIpOwoKdmFyIF9ob2lzdGVkXzcgPSB7CiAga2V5OiAxCn07Cgp2YXIgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImJyIiwgbnVsbCwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xMCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgzIiwgbnVsbCwgIlNvcnJ5IGJ1dCB5b3UgbmVlZCB0byBiZSBhZG1pbiB0byBzZWUgdGhvc2UgZGF0YSA7KSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfcm91dGVyX2xpbmsgPSBfcmVzb2x2ZUNvbXBvbmVudCgicm91dGVyLWxpbmsiKTsKCiAgcmV0dXJuICRkYXRhLmFkbWluID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAidGV4dCIsCiAgICBuYW1lOiAic2VhcmNoIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5jb250YWN0U2VhcmNoID0gJGV2ZW50OwogICAgfSksCiAgICBwbGFjZWhvbGRlcjogIkNoZXJjaGVyIENvbnRhY3QiLAogICAgY2xhc3M6ICJmb3JtLWNvbnRyb2wiLAogICAgb25LZXl1cDogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5zZWFyY2hDb250YWN0ICYmICRvcHRpb25zLnNlYXJjaENvbnRhY3QuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sIG51bGwsIDU0NAogIC8qIEhZRFJBVEVfRVZFTlRTLCBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJGRhdGEuY29udGFjdFNlYXJjaF1dKV0pLCBfY3JlYXRlVk5vZGUoInRhYmxlIiwgX2hvaXN0ZWRfNCwgW19ob2lzdGVkXzUsIF9jcmVhdGVWTm9kZSgidGJvZHkiLCBudWxsLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmNvbnRhY3RzLCBmdW5jdGlvbiAoY29udGFjdCkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJ0ciIsIHsKICAgICAga2V5OiBjb250YWN0LmtleQogICAgfSwgW19jcmVhdGVWTm9kZSgidGQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGNvbnRhY3QuZW1haWwpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlVk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhjb250YWN0LmFpZGUpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlVk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhjb250YWN0LmNvbW1lbnRhaXJlKSwgMQogICAgLyogVEVYVCAqLwogICAgKSwgX2NyZWF0ZVZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoY29udGFjdC5zdGF0dXQpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlVk5vZGUoInRkIiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICAgIHRvOiB7CiAgICAgICAgbmFtZTogJ2VkaXQnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGNvbnRhY3Qua2V5CiAgICAgICAgfQogICAgICB9LAogICAgICBjbGFzczogImJ0biBidG4tcHJpbWFyeSIKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBbX2hvaXN0ZWRfNl07CiAgICAgIH0pLAogICAgICBfOiAyCiAgICAgIC8qIERZTkFNSUMgKi8KCiAgICB9LCAxMDMyCiAgICAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLwogICAgLCBbInRvIl0pLCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgICAgb25DbGljazogX3dpdGhNb2RpZmllcnMoZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxldGVDb250YWN0KGNvbnRhY3Qua2V5KTsKICAgICAgfSwgWyJwcmV2ZW50Il0pLAogICAgICBjbGFzczogImJ0biBidG4tZGFuZ2VyIgogICAgfSwgIiBEZWxldGUgIiwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJvbkNsaWNrIl0pXSldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pXSldKV0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNywgW19ob2lzdGVkXzgsIF9ob2lzdGVkXzksIF9ob2lzdGVkXzEwXSkpOwp9"},{"version":3,"sources":["/home/victoriatokplo92/code/myfirstsiteweb/appli/src/views/Admin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-if=\"admin\">\n    <div class=\"col-md-12\">\n      <div class=\"form-group\">\n        <input\n          type=\"text\"\n          name=\"search\"\n          v-model=\"contactSearch\"\n          placeholder=\"Chercher Contact\"\n          class=\"form-control\"\n          v-on:keyup=\"searchContact\"\n        />\n      </div>\n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Email</th>\n            <th>Accompagnent</th>\n            <th>Commentaire</th>\n            <th>Statut</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"contact in contacts\" :key=\"contact.key\">\n            <td>{{ contact.email }}</td>\n            <td>{{ contact.aide }}</td>\n            <td>{{ contact.commentaire }}</td>\n            <td>{{ contact.statut }}</td>\n            <td>\n              <router-link\n                :to=\"{ name: 'edit', params: { id: contact.key } }\"\n                class=\"btn btn-primary\"\n                >Edit\n              </router-link>\n\n              <button @click.prevent=\"deleteContact(contact.key)\" class=\"btn btn-danger\">\n                Delete\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <div v-else>\n    <br /><br />\n    <h3>Sorry but you need to be admin to see those data ;)</h3>\n  </div>\n</template>\n\n<script>\nimport { db } from \"../firebaseDb\";\nimport firebase from \"firebase\";\n\nexport default {\n  data() {\n    return {\n      contacts: [],\n      originalContact: [],\n      contactSearch: \"\",\n      admin: false,\n      user: \"\",\n    };\n  },\n  created() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.admin = true;\n        this.fetchContact();\n      }\n    });\n  },\n  methods: {\n    fetchContact: function () {\n      db.collection(\"contacts\").onSnapshot((snapshotChange) => {\n        this.contacts = [];\n        snapshotChange.forEach((doc) => {\n          this.contacts.push({\n            key: doc.id,\n            email: doc.data().email,\n            aide: doc.data().aide,\n            domaine: doc.data().domaine,\n            commentaire: doc.data().commentaire,\n            statut: doc.data().statut,\n          });\n        });\n        this.originalContact = this.contacts;\n      });\n    },\n    deleteContact(id) {\n      if (window.confirm(\"Do you really want to delete?\")) {\n        db.collection(\"contacts\")\n          .doc(id)\n          .delete()\n          .then(() => {\n            console.log(\"Contact deleted!\");\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    },\n    searchContact: function () {\n      if (this.contactSearch == \"\") {\n        this.contacts = this.originalContact;\n        this.fetchContact();\n      }\n      var searchedContact = [];\n      for (var i = 0; i < this.originalContact.length; i++) {\n        var contactEMail = this.originalContact[i][\"email\"].toLowerCase();\n        var contactStatut = this.originalContact[i][\"statut\"].toLowerCase();\n        var contactAide = this.originalContact[i][\"aide\"].toLowerCase();\n        var contactDomaine = this.originalContact[i][\"domaine\"].toLowerCase();\n        var contactCommentaire = this.originalContact[i][\"commentaire\"].toLowerCase();\n\n        if (contactEMail.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n        if (contactStatut.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n        if (contactAide.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n        if (contactDomaine.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n        if (contactCommentaire.indexOf(this.contactSearch.toLowerCase()) >= 0) {\n          searchedContact.push(this.originalContact[i]);\n        }\n      }\n      this.contacts = searchedContact;\n    },\n  },\n};\n</script>\n\n<style>\n.btn-primary {\n  margin-right: 12px;\n}\n</style>\n"],"sourceRoot":""}]}